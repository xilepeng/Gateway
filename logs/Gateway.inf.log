[INFO][2021-10-02T14:11:25.324][log.go:58] _com_request_in||args=map[]||from=127.0.0.1||traceid=c0a801026157f80d7bd02b99104dc7b0||spanid=a1fff90f380704bb||uri=/app/app_list?page_size=20&page_no=1||method=GET||body=||cspanid=
[INFO][2021-10-02T14:11:25.324][log.go:58] _com_request_out||uri=/app/app_list?page_size=20&page_no=1||from=127.0.0.1||traceid=c0a801026157f80d7bd02b99104dc7b0||cspanid=||spanid=a1fff90f380704bb||method=GET||args=map[]||response=<nil>||proc_time=0.021547998
[INFO][2021-10-02T14:11:25.324][log.go:58] _com_panic||stack=goroutine 39 [running]:\nruntime/debug.Stack()\n\t/usr/local/opt/go/libexec/src/runtime/debug/stack.go:24 +0x65\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1.1()\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:21 +0x198\npanic({0x16e76a0, 0x2601b10})\n\t/usr/local/opt/go/libexec/src/runtime/panic.go:1038 +0x215\ngithub.com/e421083458/gorm.(*DB).clone(0x0)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:783 +0x1d\ngithub.com/e421083458/gorm.(*DB).Set(0xc00014e120, {0x179c375, 0xd}, {0x1698060, 0xc00010a000})\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:704 +0x2d\ngithub.com/e421083458/gorm.(*DB).SetCtx(...)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:164\ngithub.com/e421083458/gateway/dao.(*App).APPList(0xc0002f53a8, 0x16d37c0, 0xc0000cc680, 0xc0000cc680)\n\t/Users/x/GolandProjects/gateway/dao/app.go:52 +0xb7\ngithub.com/e421083458/gateway/controller.(*APPController).APPList(0x18ca7b8, 0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/controller/app.go:47 +0xb4\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/translation.go:168 +0x579\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18 +0xfc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RequestLog.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59 +0x73\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33 +0x6b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65 +0x1dc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x7b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe7\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x4e6\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, {0x18a7710, 0xc0002c21c0}, 0xc000170100)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x16e\nnet/http.serverHandler.ServeHTTP({0xc0001a9620}, {0x18a7710, 0xc0002c21c0}, 0xc000170100)\n\t/usr/local/opt/go/libexec/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0000f4320, {0x18acdc0, 0xc00013e360})\n\t/usr/local/opt/go/libexec/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\t/usr/local/opt/go/libexec/src/net/http/server.go:3033 +0x4e8\n||traceid=c0a801026157f80d7bd02b99104dc7b0||cspanid=||spanid=a1fff90f380704bb||error=runtime error: invalid memory address or nil pointer dereference
[INFO][2021-10-02T14:12:13.474][log.go:58] _com_request_in||uri=/app/app_detail?id=2||args=map[]||body=||spanid=a1fff93f57e9d186||method=GET||from=127.0.0.1||traceid=c0a801026157f83dbac82b995a8581b0||cspanid=
[INFO][2021-10-02T14:12:13.474][log.go:58] _com_request_out||cspanid=||spanid=a1fff93f57e9d186||args=map[]||from=127.0.0.1||response=<nil>||proc_time=0.009590775||traceid=c0a801026157f83dbac82b995a8581b0||uri=/app/app_detail?id=2||method=GET
[INFO][2021-10-02T14:12:13.474][log.go:58] _com_panic||traceid=c0a801026157f83dbac82b995a8581b0||cspanid=||spanid=a1fff93f57e9d186||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 30 [running]:\nruntime/debug.Stack()\n\t/usr/local/opt/go/libexec/src/runtime/debug/stack.go:24 +0x65\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1.1()\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:21 +0x198\npanic({0x16e76a0, 0x2601b10})\n\t/usr/local/opt/go/libexec/src/runtime/panic.go:1038 +0x215\ngithub.com/e421083458/gorm.(*DB).clone(0x0)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:783 +0x1d\ngithub.com/e421083458/gorm.(*DB).Set(0x90, {0x179c375, 0xd}, {0x1698060, 0xc00010ac40})\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:704 +0x2d\ngithub.com/e421083458/gorm.(*DB).SetCtx(...)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:164\ngithub.com/e421083458/gateway/dao.(*App).Find(0x158c38c, 0x16d3760, 0xc0000a2ad0, 0x179e769)\n\t/Users/x/GolandProjects/gateway/dao/app.go:33 +0x65\ngithub.com/e421083458/gateway/controller.(*APPController).APPDetail(0x18ca7b8, 0xc0002af440)\n\t/Users/x/GolandProjects/gateway/controller/app.go:100 +0x75\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/translation.go:168 +0x579\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18 +0xfc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RequestLog.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59 +0x73\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33 +0x6b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65 +0x1dc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x7b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe7\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x4e6\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, {0x18a7710, 0xc0002c22a0}, 0xc000296500)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x16e\nnet/http.serverHandler.ServeHTTP({0xc0002574d0}, {0x18a7710, 0xc0002c22a0}, 0xc000296500)\n\t/usr/local/opt/go/libexec/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0000ec3c0, {0x18acdc0, 0xc00013e360})\n\t/usr/local/opt/go/libexec/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\t/usr/local/opt/go/libexec/src/net/http/server.go:3033 +0x4e8\n
[INFO][2021-10-02T14:12:18.237][log.go:58] _com_request_in||method=GET||from=127.0.0.1||traceid=c0a801026157f8422fa02b9966cb39b0||spanid=a1fff9401408d2ac||uri=/app/app_detail?id=2||args=map[]||body=||cspanid=
[INFO][2021-10-02T14:12:18.237][log.go:58] _com_request_out||spanid=a1fff9401408d2ac||from=127.0.0.1||response=<nil>||proc_time=0.009710587||traceid=c0a801026157f8422fa02b9966cb39b0||uri=/app/app_detail?id=2||method=GET||args=map[]||cspanid=
[INFO][2021-10-02T14:12:18.237][log.go:58] _com_panic||stack=goroutine 30 [running]:\nruntime/debug.Stack()\n\t/usr/local/opt/go/libexec/src/runtime/debug/stack.go:24 +0x65\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1.1()\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:21 +0x198\npanic({0x16e76a0, 0x2601b10})\n\t/usr/local/opt/go/libexec/src/runtime/panic.go:1038 +0x215\ngithub.com/e421083458/gorm.(*DB).clone(0x0)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:783 +0x1d\ngithub.com/e421083458/gorm.(*DB).Set(0x90, {0x179c375, 0xd}, {0x1698060, 0xc00010ad20})\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:704 +0x2d\ngithub.com/e421083458/gorm.(*DB).SetCtx(...)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:164\ngithub.com/e421083458/gateway/dao.(*App).Find(0x158c38c, 0x16d3760, 0xc000373e28, 0x179e769)\n\t/Users/x/GolandProjects/gateway/dao/app.go:33 +0x65\ngithub.com/e421083458/gateway/controller.(*APPController).APPDetail(0x18ca7b8, 0xc0002af680)\n\t/Users/x/GolandProjects/gateway/controller/app.go:100 +0x75\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/translation.go:168 +0x579\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18 +0xfc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RequestLog.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59 +0x73\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33 +0x6b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65 +0x1dc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x7b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe7\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x4e6\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, {0x18a7710, 0xc0002c2380}, 0xc000170200)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x16e\nnet/http.serverHandler.ServeHTTP({0xc0002574d0}, {0x18a7710, 0xc0002c2380}, 0xc000170200)\n\t/usr/local/opt/go/libexec/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0000ec3c0, {0x18acdc0, 0xc00013e360})\n\t/usr/local/opt/go/libexec/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\t/usr/local/opt/go/libexec/src/net/http/server.go:3033 +0x4e8\n||traceid=c0a801026157f8422fa02b9966cb39b0||cspanid=||spanid=a1fff9401408d2ac||error=runtime error: invalid memory address or nil pointer dereference
[INFO][2021-10-02T14:13:21.489][log.go:58] _com_request_in||from=127.0.0.1||traceid=c0a801026157f881e9482b99697f48b0||cspanid=||body={\n  \"app_id\": \"1\",\n  \"name\": \"x\",\n  \"qpd\": 0,\n  \"qps\": 0,\n  \"secret\": \"string\",\n  \"white_ips\": \"string\"\n}||spanid=a1fff983268447a4||uri=/app/app_add||method=POST||args=map[]
[INFO][2021-10-02T14:13:21.489][log.go:58] _com_request_out||traceid=c0a801026157f881e9482b99697f48b0||spanid=a1fff983268447a4||method=POST||args=map[]||from=127.0.0.1||uri=/app/app_add||response=<nil>||proc_time=0.008880919||cspanid=
[INFO][2021-10-02T14:13:21.489][log.go:58] _com_panic||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 31 [running]:\nruntime/debug.Stack()\n\t/usr/local/opt/go/libexec/src/runtime/debug/stack.go:24 +0x65\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1.1()\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:21 +0x198\npanic({0x16e76a0, 0x2601b10})\n\t/usr/local/opt/go/libexec/src/runtime/panic.go:1038 +0x215\ngithub.com/e421083458/gorm.(*DB).clone(0x0)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:783 +0x1d\ngithub.com/e421083458/gorm.(*DB).Set(0x90, {0x179c375, 0xd}, {0x1698060, 0xc0000ee070})\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:704 +0x2d\ngithub.com/e421083458/gorm.(*DB).SetCtx(...)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:164\ngithub.com/e421083458/gateway/dao.(*App).Find(0x1013c59, 0x16d3700, 0xc00019a000, 0x16e2560)\n\t/Users/x/GolandProjects/gateway/dao/app.go:33 +0x65\ngithub.com/e421083458/gateway/controller.(*APPController).AppAdd(0x18ca7b8, 0xc0000e2240)\n\t/Users/x/GolandProjects/gateway/controller/app.go:163 +0x99\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/translation.go:168 +0x579\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18 +0xfc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RequestLog.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59 +0x73\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33 +0x6b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65 +0x1dc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x7b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe7\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x4e6\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, {0x18a7710, 0xc0001f80e0}, 0xc000178000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x16e\nnet/http.serverHandler.ServeHTTP({0x18a5a80}, {0x18a7710, 0xc0001f80e0}, 0xc000178000)\n\t/usr/local/opt/go/libexec/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0000c40a0, {0x18acdc0, 0xc00013e360})\n\t/usr/local/opt/go/libexec/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\t/usr/local/opt/go/libexec/src/net/http/server.go:3033 +0x4e8\n||traceid=c0a801026157f881e9482b99697f48b0||cspanid=||spanid=a1fff983268447a4
[INFO][2021-10-02T14:13:43.145][log.go:58] _com_request_in||method=POST||uri=/admin_login/login||args=map[]||body={\n  \"password\": \"123456\",\n  \"username\": \"admin\"\n}||from=127.0.0.1||traceid=c0a801026157f89702e02b99f27cc6b0||cspanid=||spanid=a1fff99568255aaf
[INFO][2021-10-02T14:13:43.145][log.go:58] _com_mysql_success||traceid=c0a801026157f89702e02b99f27cc6b0||cspanid=||level=sql||source=/Users/x/GolandProjects/gateway/dao/admin.go:40||current_time=2021-10-02 14:13:43||sql=SELECT * FROM `gateway_admin`  WHERE (`gateway_admin`.`user_name` = 'admin')||affected_row=1||proc_time=0.000000000||spanid=a1fff99568255aaf
[INFO][2021-10-02T14:13:43.145][log.go:58] _com_request_out||traceid=c0a801026157f89702e02b99f27cc6b0||uri=/admin_login/login||args=map[]||from=127.0.0.1||cspanid=||spanid=a1fff99568255aaf||method=POST||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"token\":\"admin\"},\"trace_id\":\"c0a801026157f89702e02b99f27cc6b0\",\"stack\":null}||proc_time=0.079614103
[INFO][2021-10-02T14:13:54.659][log.go:58] _com_request_in||spanid=a1fff9a03c04951a||method=POST||args=map[]||from=127.0.0.1||traceid=c0a801026157f8a268802b99b62158b0||uri=/app/app_add||body={\n  \"app_id\": \"1\",\n  \"name\": \"x\",\n  \"qpd\": 0,\n  \"qps\": 0,\n  \"secret\": \"string\",\n  \"white_ips\": \"string\"\n}||cspanid=
[INFO][2021-10-02T14:13:54.659][log.go:58] _com_request_out||cspanid=||spanid=a1fff9a03c04951a||uri=/app/app_add||method=POST||args=map[]||response=<nil>||from=127.0.0.1||proc_time=0.00865014||traceid=c0a801026157f8a268802b99b62158b0
[INFO][2021-10-02T14:13:54.659][log.go:58] _com_panic||spanid=a1fff9a03c04951a||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 68 [running]:\nruntime/debug.Stack()\n\t/usr/local/opt/go/libexec/src/runtime/debug/stack.go:24 +0x65\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1.1()\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:21 +0x198\npanic({0x16e76a0, 0x2601b10})\n\t/usr/local/opt/go/libexec/src/runtime/panic.go:1038 +0x215\ngithub.com/e421083458/gorm.(*DB).clone(0x0)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:783 +0x1d\ngithub.com/e421083458/gorm.(*DB).Set(0x90, {0x179c375, 0xd}, {0x1698060, 0xc0000eecb0})\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:704 +0x2d\ngithub.com/e421083458/gorm.(*DB).SetCtx(...)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:164\ngithub.com/e421083458/gateway/dao.(*App).Find(0x1013c59, 0x16d3700, 0xc00019a500, 0x16e2560)\n\t/Users/x/GolandProjects/gateway/dao/app.go:33 +0x65\ngithub.com/e421083458/gateway/controller.(*APPController).AppAdd(0x18ca7b8, 0xc0000e39e0)\n\t/Users/x/GolandProjects/gateway/controller/app.go:163 +0x99\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/translation.go:168 +0x579\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18 +0xfc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RequestLog.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59 +0x73\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1(0xc0002d4000)\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33 +0x6b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65 +0x1dc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x7b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe7\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc0002d4000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x4e6\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, {0x18a7710, 0xc0001f8380}, 0xc000178200)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x16e\nnet/http.serverHandler.ServeHTTP({0x18a5a80}, {0x18a7710, 0xc0001f8380}, 0xc000178200)\n\t/usr/local/opt/go/libexec/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0000c45a0, {0x18acdc0, 0xc00013e360})\n\t/usr/local/opt/go/libexec/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\t/usr/local/opt/go/libexec/src/net/http/server.go:3033 +0x4e8\n||traceid=c0a801026157f8a268802b99b62158b0||cspanid=
[INFO][2021-10-02T14:14:07.994][log.go:58] _com_request_in||body=||traceid=c0a801026157f8af0a182b993a768bb0||cspanid=||spanid=a1fff9ad25845c95||uri=/app/app_list?page_size=20&page_no=1||method=GET||args=map[]||from=127.0.0.1
[INFO][2021-10-02T14:14:08.044][log.go:58] _com_request_out||uri=/app/app_list?page_size=20&page_no=1||method=GET||proc_time=0.050469145||cspanid=||args=map[]||from=127.0.0.1||response=<nil>||traceid=c0a801026157f8af0a182b993a768bb0||spanid=a1fff9ad25845c95
[INFO][2021-10-02T14:14:08.044][log.go:58] _com_panic||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 54 [running]:\nruntime/debug.Stack()\n\t/usr/local/opt/go/libexec/src/runtime/debug/stack.go:24 +0x65\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1.1()\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:21 +0x198\npanic({0x16e76a0, 0x2601b10})\n\t/usr/local/opt/go/libexec/src/runtime/panic.go:1038 +0x215\ngithub.com/e421083458/gorm.(*DB).clone(0x0)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:783 +0x1d\ngithub.com/e421083458/gorm.(*DB).Set(0xc00006d080, {0x179c375, 0xd}, {0x1698060, 0xc0000ff9d0})\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:704 +0x2d\ngithub.com/e421083458/gorm.(*DB).SetCtx(...)\n\t/Users/x/go/pkg/mod/github.com/e421083458/gorm@v1.0.1/main.go:164\ngithub.com/e421083458/gateway/dao.(*App).APPList(0xc000ddd3a8, 0x16d37c0, 0xc000034ae0, 0xc000034ae0)\n\t/Users/x/GolandProjects/gateway/dao/app.go:52 +0xb7\ngithub.com/e421083458/gateway/controller.(*APPController).APPList(0x18ca7b8, 0xc000370000)\n\t/Users/x/GolandProjects/gateway/controller/app.go:47 +0xb4\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/translation.go:168 +0x579\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18 +0xfc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RequestLog.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59 +0x73\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1(0xc000370000)\n\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33 +0x6b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20191209060500-d6e26eeaa607/sessions/sessions.go:65 +0x1dc\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x7b\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe7\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc000370000)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x4e6\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, {0x18a7710, 0xc0002c2000}, 0xc000296200)\n\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x16e\nnet/http.serverHandler.ServeHTTP({0xc0003ae570}, {0x18a7710, 0xc0002c2000}, 0xc000296200)\n\t/usr/local/opt/go/libexec/src/net/http/server.go:2878 +0x43b\nnet/http.(*conn).serve(0xc0000ec140, {0x18acdc0, 0xc00013e360})\n\t/usr/local/opt/go/libexec/src/net/http/server.go:1929 +0xb08\ncreated by net/http.(*Server).Serve\n\t/usr/local/opt/go/libexec/src/net/http/server.go:3033 +0x4e8\n||traceid=c0a801026157f8af0a182b993a768bb0||cspanid=||spanid=a1fff9ad25845c95
