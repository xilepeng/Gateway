[INFO][2021-10-02T10:47:38.614][log.go:58] _com_request_in||uri=/service/service_add_http||method=POST||args=map[]||spanid=a1ffc948380704bb||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=c0a801026157c84a7e8035ae104dc7b0||cspanid=
[INFO][2021-10-02T10:47:38.614][log.go:58] _com_request_out||cspanid=||uri=/service/service_add_http||args=map[]||response={\"errno\":2000,\"errmsg\":\"url重写功能 不符合输入格式,header转换 不符合输入格式,ip列表 不符合输入格式,\\u0008权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"c0a801026157c84a7e8035ae104dc7b0\",\"stack\":\"github.com/e421083458/gateway/public.DefaultGetValidParams\\n\\t/Users/x/GolandProjects/gateway/public/params.go:32\\ngithub.com/e421083458/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/x/GolandProjects/gateway/dto/service.go:41\\ngithub.com/e421083458/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/x/GolandProjects/gateway/controller/service.go:186\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.RequestLog.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/opt/go/libexec/src/net/http/server.go:2878\\nnet/http.(*conn).serve\\n\\t/usr/local/opt/go/libexec/src/net/http/server.go:1929\\nruntime.goexit\\n\\t/usr/local/opt/go/libexec/src/runtime/asm_amd64.s:1581\"}||traceid=c0a801026157c84a7e8035ae104dc7b0||spanid=a1ffc948380704bb||method=POST||from=127.0.0.1||proc_time=0.018422876
[INFO][2021-10-02T10:49:17.783][log.go:58] _com_request_in||method=POST||args=map[]||from=127.0.0.1||traceid=c0a801026157c8adae0035ae5a8581b0||uri=/service/service_add_http||cspanid=||spanid=a1ffc9af57e9d186||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}
[INFO][2021-10-02T10:49:17.783][log.go:58] _com_request_out||method=POST||args=map[]||from=127.0.0.1||traceid=c0a801026157c8adae0035ae5a8581b0||cspanid=||uri=/service/service_add_http||proc_time=0.016577374||spanid=a1ffc9af57e9d186||response={\"errno\":2000,\"errmsg\":\"服务描述为必填字段\",\"data\":\"\",\"trace_id\":\"c0a801026157c8adae0035ae5a8581b0\",\"stack\":\"github.com/e421083458/gateway/public.DefaultGetValidParams\\n\\t/Users/x/GolandProjects/gateway/public/params.go:32\\ngithub.com/e421083458/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/x/GolandProjects/gateway/dto/service.go:41\\ngithub.com/e421083458/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/x/GolandProjects/gateway/controller/service.go:186\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.RequestLog.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/opt/go/libexec/src/net/http/server.go:2878\\nnet/http.(*conn).serve\\n\\t/usr/local/opt/go/libexec/src/net/http/server.go:1929\\nruntime.goexit\\n\\t/usr/local/opt/go/libexec/src/runtime/asm_amd64.s:1581\"}
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_request_in||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac||uri=/service/service_list?page_size=20&page_no=1||method=GET||args=map[]||body=||from=127.0.0.1
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_info.go:83||proc_time=0.000000000||affected_row=5||level=sql||current_time=2021-10-02 10:50:19||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 20 OFFSET 0
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||traceid=c0a801026157c8eb425035ae66cb39b0||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_info.go:86||current_time=2021-10-02 10:50:19||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 20 OFFSET 0||level=sql||proc_time=0.000000000||affected_row=0||cspanid=
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')||affected_row=1||cspanid=||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_http_rule.go:27||current_time=2021-10-02 10:50:19||spanid=a1ffc9e91408d2ac||traceid=c0a801026157c8eb425035ae66cb39b0
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=0||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||source=/Users/x/GolandProjects/gateway/dao/service_tcp_rule.go:21||current_time=2021-10-02 10:50:19||spanid=a1ffc9e91408d2ac||level=sql||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')||affected_row=0||cspanid=||level=sql||current_time=2021-10-02 10:50:19||traceid=c0a801026157c8eb425035ae66cb39b0||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_grpc_rule.go:22||proc_time=0.000000000
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||level=sql||current_time=2021-10-02 10:50:19||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||affected_row=1||source=/Users/x/GolandProjects/gateway/dao/service_access_control.go:26||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||current_time=2021-10-02 10:50:19||affected_row=1||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_load_balance.go:39
[INFO][2021-10-02T10:50:19.066][log.go:58] _com_mysql_success||cspanid=||spanid=a1ffc9e91408d2ac||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_http_rule.go:27||current_time=2021-10-02 10:50:19||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||affected_row=1||proc_time=0.000000000||traceid=c0a801026157c8eb425035ae66cb39b0
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||current_time=2021-10-02 10:50:20||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||cspanid=||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_tcp_rule.go:21||proc_time=1.000000000||affected_row=0||traceid=c0a801026157c8eb425035ae66cb39b0||spanid=a1ffc9e91408d2ac
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||cspanid=||spanid=a1ffc9e91408d2ac||current_time=2021-10-02 10:50:20||affected_row=0||traceid=c0a801026157c8eb425035ae66cb39b0||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_grpc_rule.go:22||proc_time=0.000000000
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||source=/Users/x/GolandProjects/gateway/dao/service_access_control.go:26||proc_time=0.000000000||level=sql||current_time=2021-10-02 10:50:20||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||current_time=2021-10-02 10:50:20||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||cspanid=||source=/Users/x/GolandProjects/gateway/dao/service_load_balance.go:39||proc_time=0.000000000||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||spanid=a1ffc9e91408d2ac||level=sql
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_http_rule.go:27||current_time=2021-10-02 10:50:20||affected_row=0
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||current_time=2021-10-02 10:50:20||affected_row=0||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_tcp_rule.go:21
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||cspanid=||spanid=a1ffc9e91408d2ac||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||source=/Users/x/GolandProjects/gateway/dao/service_grpc_rule.go:22||current_time=2021-10-02 10:50:20
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_access_control.go:26||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||current_time=2021-10-02 10:50:20||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')||spanid=a1ffc9e91408d2ac
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||level=sql||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||spanid=a1ffc9e91408d2ac||cspanid=||source=/Users/x/GolandProjects/gateway/dao/service_load_balance.go:39||current_time=2021-10-02 10:50:20||proc_time=0.000000000||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=0||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_http_rule.go:27||current_time=2021-10-02 10:50:20||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_tcp_rule.go:21||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||current_time=2021-10-02 10:50:20||proc_time=0.000000000||affected_row=1||spanid=a1ffc9e91408d2ac
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_grpc_rule.go:22||proc_time=0.000000000||affected_row=0||cspanid=||current_time=2021-10-02 10:50:20||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||traceid=c0a801026157c8eb425035ae66cb39b0||spanid=a1ffc9e91408d2ac
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||level=sql||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_access_control.go:26||current_time=2021-10-02 10:50:20||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||cspanid=||spanid=a1ffc9e91408d2ac||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_load_balance.go:39||current_time=2021-10-02 10:50:20||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||source=/Users/x/GolandProjects/gateway/dao/service_http_rule.go:27||current_time=2021-10-02 10:50:20||proc_time=0.000000000||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||level=sql||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')||spanid=a1ffc9e91408d2ac
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||cspanid=||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_tcp_rule.go:21||current_time=2021-10-02 10:50:20||affected_row=0||traceid=c0a801026157c8eb425035ae66cb39b0||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||source=/Users/x/GolandProjects/gateway/dao/service_grpc_rule.go:22||current_time=2021-10-02 10:50:20||traceid=c0a801026157c8eb425035ae66cb39b0||cspanid=||spanid=a1ffc9e91408d2ac||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||affected_row=0
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||spanid=a1ffc9e91408d2ac||level=sql||source=/Users/x/GolandProjects/gateway/dao/service_access_control.go:26||current_time=2021-10-02 10:50:20||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||proc_time=0.000000000||cspanid=
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_mysql_success||proc_time=0.000000000||cspanid=||spanid=a1ffc9e91408d2ac||source=/Users/x/GolandProjects/gateway/dao/service_load_balance.go:39||current_time=2021-10-02 10:50:20||affected_row=1||traceid=c0a801026157c8eb425035ae66cb39b0||level=sql||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')
[INFO][2021-10-02T10:50:20.210][log.go:58] _com_request_out||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":5,\"list\":[{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8080/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"127.0.0.1:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"127.0.0.1:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:4433/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"c0a801026157c8eb425035ae66cb39b0\",\"stack\":null}||traceid=c0a801026157c8eb425035ae66cb39b0||uri=/service/service_list?page_size=20&page_no=1||args=map[]||proc_time=1.264456126||cspanid=||spanid=a1ffc9e91408d2ac||method=GET||from=127.0.0.1
[INFO][2021-10-02T10:51:14.406][log.go:58] _com_request_in||from=127.0.0.1||spanid=a1ffc8205d78399c||uri=/service/service_add_http||args=map[]||traceid=c0a801026157c922229835ae88f8bdb0||cspanid=||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_strip_uri\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_strip_uri\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"60\",\n  \"white_list\": \"\"\n}
[INFO][2021-10-02T10:51:14.406][log.go:58] _com_mysql_success||source=/Users/x/GolandProjects/gateway/dao/service_info.go:94||current_time=2021-10-02 10:51:14||cspanid=||spanid=a1ffc8205d78399c||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'test_strip_uri')||affected_row=1||traceid=c0a801026157c922229835ae88f8bdb0
[INFO][2021-10-02T10:51:14.406][log.go:58] _com_request_out||args=map[]||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"c0a801026157c922229835ae88f8bdb0\",\"stack\":\"github.com/e421083458/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/x/GolandProjects/gateway/controller/service.go:205\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.RequestLog.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/x/GolandProjects/gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/x/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/opt/go/libexec/src/net/http/server.go:2878\\nnet/http.(*conn).serve\\n\\t/usr/local/opt/go/libexec/src/net/http/server.go:1929\\nruntime.goexit\\n\\t/usr/local/opt/go/libexec/src/runtime/asm_amd64.s:1581\"}||proc_time=0.057340484||traceid=c0a801026157c922229835ae88f8bdb0||spanid=a1ffc8205d78399c||method=POST||cspanid=||uri=/service/service_add_http
